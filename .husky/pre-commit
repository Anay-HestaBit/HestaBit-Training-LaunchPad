#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

echo "üîç Running pre-commit checks..."

# ‚ùå Block .env files
STAGED_ENV_FILES=$(git diff --cached --name-only | grep -E '\.env$' || true)
if [ -n "$STAGED_ENV_FILES" ]; then
  echo "‚ùå ERROR: .env files must not be committed:"
  echo "$STAGED_ENV_FILES"
  exit 1
fi

# ‚ùå Block .log files
STAGED_LOG_FILES=$(git diff --cached --name-only | grep -E '\.log$' || true)
if [ -n "$STAGED_LOG_FILES" ]; then
  echo "‚ùå ERROR: .log files must not be committed:"
  echo "$STAGED_LOG_FILES"
  exit 1
fi

# ‚úÖ Run lint-staged (Prettier check)
# npx lint-staged
